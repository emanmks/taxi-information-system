<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h1 class="text-info">Data Spare Parts</h1>		</div>		<div class="well">			<div class="pull-right">				<button class="btn btn-primary" onClick="showFormAddNew()"><i class="icon-plus icon-white"></i> Tambah Baru</button>			</div>			<br><br>			<table class="table table-bordered table-hover">				<thead>					<tr>						<th>Kode Spare Parts</th>						<th>Nama Spare Parts</th>						<th>Satuan</th>						<th>Harga Beli</th>						<th>Harga Jual</th>						<th width='15%'>Aksi</th>					</tr>				</thead>								<tbody id="tblparts">					<? foreach ($this->listParts as $key => $value) { ?>						<tr id="parts-<? echo $value['id']; ?>">							<td><? echo $value['kode']; ?><input type="hidden" name="kode-<? echo $value['id']; ?>" value="<? echo $value['kode']; ?>"></td>							<td><? echo $value['namaparts']; ?><input type="hidden" name="namaparts-<? echo $value['id']; ?>" value="<? echo $value['namaparts']; ?>"></td>							<td><? echo $value['satuan']; ?><input type="hidden" name="satuan-<? echo $value['id']; ?>" value="<? echo $value['satuan']; ?>"></td>							<td><? echo $this->pecah($value['hargabeli']); ?><input type="hidden" name="hargabeli-<? echo $value['id']; ?>" value="<? echo $value['hargabeli']; ?>"></td>							<td><? echo $this->pecah($value['hargajual']); ?><input type="hidden" name="hargajual-<? echo $value['id']; ?>" value="<? echo $value['hargajual']; ?>"></td>							<td>								<input type="hidden" name="quantity-<? echo $value['id']; ?>" value="<? echo $value['quantity']; ?>">								<input type="hidden" name="quantityoh-<? echo $value['id']; ?>" value="<? echo $value['quantityoh']; ?>">								<input type="hidden" name="lastopname-<? echo $value['id']; ?>" value="<? echo date('d-m-Y', strtotime($value['lastopname'])); ?>">								<input type="hidden" name="opnamer-<? echo $value['id']; ?>" value="<? echo $value['nama']; ?>">								<input type="hidden" name="keterangan-<? echo $value['id']; ?>" value="<? echo $value['keterangan']; ?>">								<div class="btn-group">									<a class="btn btn-primary" href="javascript:void(0)"><i class="icon-edit icon-white"></i> Aksi</a>									<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span class="caret"></span></a>									<ul class="dropdown-menu">										<li>											<a href="javascript:void(0)" onClick="return showModalStock(<? echo $value['id']; ?>)">											<i class="icon-list"></i> Lihat Stock</a>										</li>										<li>											<a href="javascript:void(0)" onClick="return showFormUpdate(<? echo $value['id']; ?>)">											<i class="icon-pencil"></i> Update</a>										</li>										<li>											<a href="javascript:void(0)" onClick="return remove(<? echo $value['id']; ?>)">											<i class="icon-remove"></i> Hapus</a>										</li>									</ul>								</div>							</td>						</tr>					<? } ?>				</tbody>			</table>		</div>	</div></div><!-- Form Add Parts [modal]===================================== --><div id="formAddNew" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Tambah Spare Parts</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputKode">Kode Spare Parts</label>				<div class="controls">					<input name="inputKode" class="span2" type="text">				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputNama">Nama Spare Parts</label>				<div class="controls">					<input name="inputNama" class="span3" type="text">				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputSatuan">Satuan</label>				<div class="controls">					<input type="text" name="inputSatuan" class="span2">				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputHargaBeli">Harga Beli</label>				<div class="controls">					<span class="add-on">Rp</span>					<input type="text" name="inputHargaBeli" class="span2" onkeyup="formatNumber(this)" value="0">					<br>					<small>Cukup ketikkan digit angka</small>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputHargaJual">Harga Jual</label>				<div class="controls">					<span class="add-on">Rp</span>					<input type="text" name="inputHargaJual" class="span2" onkeyup="formatNumber(this)" value="0">					<br>					<small>Cukup ketikkan digit angka</small>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputStock">Stock Awal</label>				<div class="controls">					<input type="text" name="inputStock" class="span2" value="0">				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="addNew()" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Add Parts [modal] --><!-- Form Update Parts [modal]===================================== --><div id="formUpdate" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Update Spare Parts</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputUKode">Kode Spare Parts</label>				<div class="controls">					<input type="hidden" name="inputID">					<input name="inputUKode" class="span2" type="text">				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputNama">Nama Spare Parts</label>				<div class="controls">					<input name="inputUNama" class="span3" type="text">				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputSatuan">Satuan</label>				<div class="controls">					<input type="text" name="inputUSatuan" class="span2">				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputUHargaBeli">Harga Beli</label>				<div class="controls">					<span class="add-on">Rp</span>					<input type="text" name="inputUHargaBeli" class="span2" onkeyup="formatNumber(this)" value="0">					<br>					<small>Cukup ketikkan digit angka</small>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputUHargaJual">Harga Jual</label>				<div class="controls">					<span class="add-on">Rp</span>					<input type="text" name="inputUHargaJual" class="span2" onkeyup="formatNumber(this)" value="0">					<br>					<small>Cukup ketikkan digit angka</small>				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="update()" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Update Parts [modal] --><!-- Form Stock Parts [modal]===================================== --><div id="modalStock" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Stock Spare Parts</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputKode">Kode Spare Parts</label>				<div class="controls">					<input type="hidden" name="inputID">					<input name="inputSKode" class="span2" type="text" disabled>				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputNama">Nama Spare Parts</label>				<div class="controls">					<input name="inputSNama" class="span3" type="text" disabled>				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputSatuan">Satuan</label>				<div class="controls">					<input type="text" name="inputSSatuan" class="span2" disabled>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputQuantity">Quantity</label>				<div class="controls">					<input type="text" name="inputQuantity" class="span1" disabled>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputQuantityOH">Quantity On Hand</label>				<div class="controls">					<input type="text" name="inputQuantityOH" class="span1" disabled>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputLastOpname">Opname Terakhir</label>				<div class="controls">					<input type="text" name="inputLastOpname" class="span2" disabled>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputOpnamer">Yang Melaporkan</label>				<div class="controls">					<input type="text" name="inputOpnamer" class="span3" disabled>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputKeterangan">Keterangan</label>				<div class="controls">					<textarea name="inputKeterangan" disabled></textarea>				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Tutup</button>	</div></div><!-- End of Form Stock Parts [modal] --><script type="text/javascript">	function showFormAddNew()	{		$('#formAddNew').modal('show');		$('input[name=inputKode]').val('');		$('input[name=inputNama]').val('');		$('input[name=inputSatuan]').val('');		$('input[name=inputHargaBeli]').val('0');		$('input[name=inputHargaJual]').val('0');		$('inputp[name=inputStock]').val('0');	}	function showFormUpdate(id)	{		$('#formUpdate').modal('show');		$('input[name=inputID]').val(id);		$('input[name=inputUKode]').val($('input[name=kode-'+id+']').val());		$('input[name=inputUNama]').val($('input[name=namaparts-'+id+']').val());		$('input[name=inputUSatuan]').val($('input[name=satuan-'+id+']').val());		$('input[name=inputUHargaBeli]').val($('input[name=hargabeli-'+id+']').val());		$('input[name=inputUHargaJual]').val($('input[name=hargajual-'+id+']').val());	}	function showModalStock(id)	{		$('#modalStock').modal('show');		$('input[name=inputSKode]').val($('input[name=kode-'+id+']').val());		$('input[name=inputSNama]').val($('input[name=namaparts-'+id+']').val());		$('input[name=inputSSatuan]').val($('input[name=satuan-'+id+']').val());		$('input[name=inputQuantity]').val($('input[name=quantity-'+id+']').val());		$('input[name=inputQuantityOH]').val($('input[name=quantityoh-'+id+']').val());		$('input[name=inputLastOpname]').val($('input[name=lastopname-'+id+']').val());		$('input[name=inputOpnamer]').val($('input[name=opnamer-'+id+']').val());		$('textarea[name=inputKeterangan]').val($('input[name=keterangan-'+id+']').val());	}	function showStock()	{		load('parts/stock', '#content');	}	function addNew()	{		var kode = $('input[name=inputKode]').val();		var nama = $('input[name=inputNama]').val();		var satuan = $('input[name=inputSatuan]').val();		satuan = satuan.toUpperCase();		var hargabeli = replaceAll($('input[name=inputHargaBeli]').val(),',','');		var hargajual = replaceAll($('input[name=inputHargaJual]').val(),',','');		stock = $('input[name=inputStock]').val();		$.post(site+'parts/save', 			{kode : kode, nama : nama, satuan : satuan, hargabeli : hargabeli, hargajual : hargajual, stock : stock}, 			function() {				window.location = site+"parts";		});	}	function update()	{		var id = $('input[name=inputID]').val();		var kode = $('input[name=inputUKode]').val();		var nama = $('input[name=inputUNama]').val();		var satuan = $('input[name=inputUSatuan]').val();		satuan = satuan.toUpperCase();		var hargabeli = replaceAll($('input[name=inputUHargaBeli]').val(),',','');		var hargajual = replaceAll($('input[name=inputUHargaJual]').val(),',','');		$.post(site+'parts/updatedetail', 			{id : id, kode : kode, nama : nama, satuan : satuan, hargabeli : hargabeli, hargajual : hargajual}, 			function(data) {				window.location = site+"parts";		},'json');	}	function remove(id)	{		if(confirm("Anda Yakin Akan Menghapus Data Ini? \nSemua Data Berkaitan dengan Data ini Akan Ikut Terhapus."))		{			$.post(site+'parts/delete', {id : id}, function(){				$('#parts-'+id).remove();			});		}	}</script>