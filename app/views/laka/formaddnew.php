<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h3 class="text-info">Data Kecelakaan Baru</h3>		</div>		<div class="well">			<form class="form-horizontal">			<legend>Detail Kecelakaan</legend>				<div class="control-group">					<label class="control-label" for="inputArmada">Armada</label>					<div class="controls">						<input type="text" id="inputNomorUnit" class="span3" data-provide="typeahead" placeholder="Nomor Unit">						<input type="hidden" id="inputIDArmada">						<div id="infoArmada"></div>					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputPengemudi">Pengemudi</label>					<div class="controls">						<input type="text" id="inputNomorPengemudi" class="span3"  data-provide="typeahead" placeholder="ID Pengemudi">						<input type="hidden" id="inputIDPengemudi">						<div id="infoPengemudi"></div>					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputTanggal">Tanggal Kejadian</label>					<div class="controls">						<input id="inputTanggal" type="text" class="span3">					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputKejadian">Deskripsi Kejadian (250 Karakter)</label>					<div class="controls">						<textarea id="inputKejadian" maxlength="250"></textarea>					</div>				</div>			<legend>Detail Biaya</legend>				<div class="control-group">					<label class="control-label" for="inputBiayaParts">Biaya Spare Parts</label>					<div class="controls">						<input type="text" id="inputBiayaParts" class="span2" value="0" onKeyUp="formatNumber(this)">					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputBiayaUrus">Biaya Pengurusan</label>					<div class="controls">						<input type="text" id="inputBiayaUrus" class="span2" value="0" onKeyUp="formatNumber(this)">					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputBiayaLain">Biaya Lain-lain</label>					<div class="controls">						<input type="text" id="inputBiayaLain" class="span2" value="0" onKeyUp="formatNumber(this)">					</div>				</div>			</form>			<br><br>			<div class="info"></div>			<div class="pull-right"><button class="btn btn-success" onClick="saveData()">Simpan Laporan</button></div>			<br><br>		</div>	</div></div><script type="text/javascript">	$(function(){		$('#inputTanggal').datepicker({dateFormat : "yy-mm-dd", changeMonth : true, changeYear : true});		$('#inputNomorUnit').typeahead({			source : function(query,process){				return $.post(site+'sro/getlistarmada', {nomor : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].nomorunit +"#"+ response[i].kondisi);					}					return process(sourceArr);				})			},			highlighter : function(item){				var armada = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/car-icon.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + armada[1] + "</div>"                 		+ "<div class='typeahead_secondary'>Kondisi : " + capitalizeFirstLetter(armada[2]) + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var armada = item.split('#');				$('#inputIDArmada').val(armada[0]);				return armada[1];			}		});		$('#inputNomorPengemudi').typeahead({			source : function(query,process){				return $.post(site+'sro/getlistpengemudi', {param : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].nomor +"#"+ response[i].nama +"#"+ response[i].foto);					}					return process(sourceArr);				})			},			highlighter : function(item){				var pengemudi = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/pengemudi/"+pengemudi[3]+"'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + pengemudi[1] + "</div>"                 		+ "<div class='typeahead_secondary'>Nama : " + pengemudi[2] + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var pengemudi = item.split('#');				$('#inputIDPengemudi').val(pengemudi[0]);				return pengemudi[1];			}		});	})	function saveData()	{		var armada = $('#inputIDArmada').val();		var pengemudi = $('#inputIDPengemudi').val();		var tanggal = $('#inputTanggal').val();		var biayaparts = parseInt(replaceAll($('#inputBiayaParts').val(),',',''));		var biayaurus = parseInt(replaceAll($('#inputBiayaUrus').val(),',',''));		var biayalain = parseInt(replaceAll($('#inputBiayaLain').val(),',',''));		var kejadian = $('#inputKejadian').val();		if(armada == '' || pengemudi == '' || tanggal == '')		{			$('.info').html("<div class='alert alert-error'><h4>Upppss!!</h4>Mohon Isi dengan lengkap..</div>");		}		else		{			$.post(site+'laka/save',				{armada : armada,				pengemudi : pengemudi,				tanggal : tanggal,				biayaparts : biayaparts,				biayaurus : biayaurus,				biayalain : biayalain,				kejadian : kejadian}, 				function(){					window.location = site+"laka";				});		}	}</script>