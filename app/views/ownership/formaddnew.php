<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h3 class="text-info">Request Ownership</h3>		</div>		<div class="well">			<form class="form-horizontal">			<legend>Detail Pengemudi dan Armada</legend>				<div class="control-group">					<label class="control-label" for="inputNomorPengemudi">Pengemudi yang Mengajukan</label>					<div class="controls">						<input type="hidden" id="inputIDPengemudi">						<input type="text" id="inputNomorPengemudi" class="span3" data-provide="typeahead" placeholder="Nomor atau Nama Pengemudi">					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputNomorUnit">Armada yang Dipilih</label>					<div class="controls">						<input type="hidden" id="inputIDArmada">						<input type="text" id="inputNomorUnit" class="span3" data-provide="typeahead" placeholder="Nomor Unit">					</div>				</div>				<legend>Nomor dan Tanggal Request</legend>				<div class="control-group">					<label class="control-label" for="inputNomor">Nomor Request</label>					<div class="controls">						<input type="text" id="inputNomor" class="span2" value="<? echo $this->nomorRequest; ?>" disabled>					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputTglRequest">Tanggal Request</label>					<div class="controls">						<input id="inputTglRequest" type="text" class="span3">					</div>				</div>			<legend>Detail Keuangan Ownership</legend>				<div class="control-group">					<label class="control-label" for="inputHarga">Harga yang Diberikan</label>					<div class="controls">						<input type="text" id="inputHarga" class="span3" onKeyUp="formatNumber(this)" value="0">					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputDP">DP</label>					<div class="controls">						<input type="text" id="inputDP" class="span3" onKeyUp="formatNumber(this)" value="0">					</div>				</div>				<div class="control-group">					<label class="control-label" for="inputSisa">Sisa</label>					<div class="controls">						<input id="inputSisa" type="text" class="span3" onKeyUp="formatNumber(this)" value="0">					</div>				</div>			</form>			<br><br>			<div class="info"></div>			<div class="pull-right"><button class="btn btn-success" onClick="saveData()">Masukkan Request</button></div>			<br><br>		</div>	</div></div><script type="text/javascript">	$(function(){		$('#inputTglRequest').datepicker({dateFormat : "yy-mm-dd", changeMonth : true, changeYear : true});				$('#inputNomorUnit').typeahead({			source : function(query,process){				return $.post(site+'sro/getlistarmada', {nomor : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].nomorunit +"#"+ response[i].kondisi);					}					return process(sourceArr);				})			},			highlighter : function(item){				var armada = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/car-icon.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + armada[1] + "</div>"                 		+ "<div class='typeahead_secondary'>Kondisi : " + capitalizeFirstLetter(armada[2]) + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var armada = item.split('#');				$('#inputIDArmada').val(armada[0]);				return armada[1];			}		});		$('#inputNomorPengemudi').typeahead({			source : function(query,process){				return $.post(site+'sro/getlistpengemudi', {param : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].nomor +"#"+ response[i].nama +"#"+ response[i].foto);					}					return process(sourceArr);				})			},			highlighter : function(item){				var pengemudi = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/pengemudi/"+pengemudi[3]+"'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + pengemudi[1] + "</div>"                 		+ "<div class='typeahead_secondary'>Nama : " + pengemudi[2] + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var pengemudi = item.split('#');				$('#inputIDPengemudi').val(pengemudi[0]);				return pengemudi[1];			}		});	})	function saveData()	{		var armada = $('#inputIDArmada').val();		var pengemudi = $('#inputIDPengemudi').val();		var nomor = $('#inputNomor').val();		var tglrequest = $('#tglrequest').val();		var harga = parseInt(replaceAll($('#inputHarga').val(),',',''));		var jumlahdp = parseInt(replaceAll($('#inputDP').val(),',',''));		var sisa = parseInt(replaceAll($('#inputSisa').val(),',',''));		if(armada == '' || pengemudi == '' || nomor == '')		{			$('.info').html("<div class='alert alert-error'><h4>Upppss!!</h4>Mohon Isi dengan lengkap..</div>");		}		else		{			$.post(site+'/ownership/save',				{armada : armada,				pengemudi : pengemudi,				nomor : nomor,				tglrequest : tglrequest,				harga : harga,				jumlahdp : jumlahdp,				sisa : sisa}, 				function(){					window.location = site+"ownership";				});		}	}</script>